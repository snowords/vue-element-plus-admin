var e=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,l,r)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r,t=(e,t)=>{for(var i in t||(t={}))l.call(t,i)&&n(e,i,t[i]);if(a)for(var i of a(t))r.call(t,i)&&n(e,i,t[i]);return e};import{b as i,r as o,B as d,u as s,e as p,w as u,aO as c,aP as g,H as f,aQ as v,a7 as h,aR as m,aS as b,au as w}from"./vendor.eeac13a4.js";import{g as x}from"./tsxHelper.137ee003.js";/* empty css               *//* empty css                  *//* empty css                 */import{p as y}from"./index.f781cf29.js";var O=i({name:"Table",props:{pageSize:y.number.def(10),currentPage:y.number.def(1),selection:y.bool.def(!0),showOverflowTooltip:y.bool.def(!0),columns:{type:Array,default:()=>[]},expand:y.bool.def(!1),pagination:{type:Object,default:()=>{}},reserveSelection:y.bool.def(!1),loading:y.bool.def(!1),reserveIndex:y.bool.def(!1),align:y.string.validate((e=>["left","center","right"].includes(e))).def("left"),headerAlign:y.string.validate((e=>["left","center","right"].includes(e))).def("left"),data:{type:Array,default:()=>[]}},emits:["update:pageSize","update:currentPage","register"],setup(e,{attrs:a,slots:l,emit:r,expose:n}){const i=o();d((()=>{var e;r("register",null==(e=s(i))?void 0:e.$parent,s(i))}));const y=o(e.pageSize),O=o(e.currentPage),S=o({}),j=o({}),P=p((()=>{const a=t({},e);return Object.assign(a,s(j)),a})),A=(e,a)=>{var l;const{columns:r}=s(P);for(const n of a||r)for(const a of e)n.field===a.field?w(n,a.path,a.value):(null==(l=n.children)?void 0:l.length)&&A(e,n.children)},z=o([]),T=e=>{z.value=e};n({setProps:(e={})=>{j.value=Object.assign(s(j),e),S.value=e},setColumn:A,selections:z});const $=p((()=>Object.assign({small:!1,background:!1,pagerCount:7,layout:"sizes, prev, pager, next, jumper, ->, total",pageSizes:[10,20,30,40,50,100],disabled:!1,hideOnSinglePage:!1,total:10},s(P).pagination)));u((()=>s(P).pageSize),(e=>{y.value=e})),u((()=>s(P).currentPage),(e=>{O.value=e})),u((()=>y.value),(e=>{r("update:pageSize",e)})),u((()=>O.value),(e=>{r("update:currentPage",e)}));const I=p((()=>{const l=t(t({},a),e);return delete l.columns,delete l.data,l})),C=()=>{const{selection:e,reserveSelection:a,align:l,headerAlign:r}=s(P);return e?f(m,{type:"selection",reserveSelection:a,align:l,headerAlign:r,width:"50"},null):void 0},H=()=>{const{align:e,headerAlign:a}=s(P);return s(P).expand?f(m,{type:"expand",align:e,headerAlign:a},{default:e=>x(l,"expand",e)}):void 0},U=e=>{const{columns:a,reserveIndex:r,pageSize:n,currentPage:i,align:o,headerAlign:d,showOverflowTooltip:p}=s(P);return[H(),C()].concat((e||a).map((e=>{if("index"===e.type)return f(m,{type:"index",index:e.index?e.index:e=>((e,a,l,r)=>{const n=a+1;return e?l*(r-1)+n:n})(r,e,n,i),align:e.align||o,headerAlign:e.headerAlign||d,label:e.label,width:"65px"},null);{const a=t({},e);return a.children&&delete a.children,f(m,h({showOverflowTooltip:p,align:o,headerAlign:d},a,{prop:e.field}),{default:a=>{var r;return e.children&&e.children.length?(e=>{const{align:a,headerAlign:r,showOverflowTooltip:n}=s(P);return e.map((e=>{const i=t({},e);return i.children&&delete i.children,f(m,h({showOverflowTooltip:n,align:a,headerAlign:r},i,{prop:e.field}),{default:a=>{var r;return e.children&&e.children.length?U(e.children):x(l,e.field,a)||(null==(r=null==e?void 0:e.formatter)?void 0:r.call(e,a.row,a.column,a.row[e.field],a.$index))||a.row[e.field]},header:x(l,`${e.field}-header`)})}))})(e.children):x(l,e.field,a)||(null==(r=null==e?void 0:e.formatter)?void 0:r.call(e,a.row,a.column,a.row[e.field],a.$index))||a.row[e.field]},header:x(l,`${e.field}-header`)})}})))};return()=>c(f("div",null,[f(v,h({ref:i,data:s(P).data,"onSelection-change":T},s(I)),{default:()=>U(),append:()=>x(l,"append")}),s(P).pagination?f(b,h({pageSize:y.value,"onUpdate:pageSize":e=>y.value=e,currentPage:O.value,"onUpdate:currentPage":e=>O.value=e,class:"mt-10px"},s($)),null):void 0]),[[g("loading"),s(P).loading]])}});export{O as _};
