var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{_ as s}from"./ContentWrap.ee32e73c.js";import{_ as p}from"./Search.c760e3ec.js";import{c as n}from"./index.f781cf29.js";import{b as m,O as c,V as d,aA as u,aN as b,r as f,o as g,f as j,g as y,u as x,H as v,k as _,Y as D,P as w,_ as P}from"./vendor.eeac13a4.js";/* empty css                  *//* empty css               */import{_ as h}from"./Table.vue_vue_type_script_lang.d6cb21b2.js";import{g as O,d as S}from"./index.fec8b36f.js";import{u as k}from"./useTable.24d4a73c.js";import{u as C}from"./useEmitt.cc278d49.js";/* empty css                *//* empty css                  */import"./Form.vue_vue_type_script_lang.79c9123e.js";/* empty css               *//* empty css                 */import"./tsxHelper.137ee003.js";/* empty css                        *//* empty css                  *//* empty css                   */import"./plugin-vue_export-helper.21dcd24c.js";import"./Editor.00c2d0c2.js";import"./useForm.68e0a337.js";import"./useAxios.c58636e6.js";/* empty css                       *//* empty css                   */const L={class:"mb-10px"},R=m((z=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&r(e,t,a[t]);return e})({},{name:"ExamplePage"}),a(z,t({setup(e){const{push:a}=c(),{register:t,tableObject:l,methods:o}=k({getListApi:O,delListApi:S,response:{list:"list",total:"total"}}),{getList:i,setSearchParmas:r}=o;i(),C({name:"getList",callback:e=>{"add"===e&&(l.currentPage=1),i()}});const{t:m}=n(),R=[{label:m("exampleDemo.title"),value:"",component:"Input",field:"title"}],z=d([{field:"index",label:m("tableDemo.index"),type:"index"},{field:"title",label:m("tableDemo.title")},{field:"author",label:m("tableDemo.author")},{field:"display_time",label:m("tableDemo.displayTime")},{field:"importance",label:m("tableDemo.importance"),formatter:(e,a,t)=>u(b,{type:1===t?"success":2===t?"warning":"danger"},(()=>m(1===t?"tableDemo.important":2===t?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:m("tableDemo.pageviews")},{field:"action",width:"260px",label:m("tableDemo.action")}]),A=()=>{a("/example/example-add")},E=f(!1),T=async(e,a)=>{var t;l.currentRow=e;const{delList:i,getSelections:r}=o,s=await r();E.value=!0,await i(a?s.map((e=>e.id)):[null==(t=l.currentRow)?void 0:t.id],a).finally((()=>{E.value=!1}))},F=(e,t)=>{a(`/example/example-${t}?id=${e.id}`)};return(e,a)=>(g(),j(x(s),null,{default:y((()=>[v(x(p),{schema:R,onSearch:x(r),onReset:x(r)},null,8,["onSearch","onReset"]),_("div",L,[v(x(P),{type:"primary",onClick:A},{default:y((()=>[D(w(x(m)("exampleDemo.add")),1)])),_:1}),v(x(P),{loading:E.value,type:"danger",onClick:a[0]||(a[0]=e=>T(null,!0))},{default:y((()=>[D(w(x(m)("exampleDemo.del")),1)])),_:1},8,["loading"])]),v(x(h),{pageSize:x(l).pageSize,"onUpdate:pageSize":a[1]||(a[1]=e=>x(l).pageSize=e),currentPage:x(l).currentPage,"onUpdate:currentPage":a[2]||(a[2]=e=>x(l).currentPage=e),columns:x(z),data:x(l).tableList,loading:x(l).loading,pagination:{total:x(l).total},onRegister:x(t)},{action:y((({row:e})=>[v(x(P),{type:"primary",onClick:a=>F(e,"edit")},{default:y((()=>[D(w(x(m)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),v(x(P),{type:"success",onClick:a=>F(e,"detail")},{default:y((()=>[D(w(x(m)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),v(x(P),{type:"danger",onClick:a=>T(e,!1)},{default:y((()=>[D(w(x(m)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}}))));var z;export{R as default};
